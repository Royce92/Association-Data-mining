 a router    ru t r  or  chiefly north american and australian    ra    is a networking device that forwards data packets between computer networks  a router is connected to two or more data lines from different networks  as opposed to a network switch  which connects data lines from one single network   when a data packet comes in on one of the lines  the router reads the address information in the packet to determine its ultimate destination  then  using information in its routing table or routing policy  it directs the packet to the next network on its journey  this creates an overlay internetwork  routers perform the  traffic directing  functions on the internet  a data packet is typically forwarded from one router to another through the networks that constitute the internetwork until it reaches its destination node      the most familiar type of routers are home and small office routers that simply pass data  such as web pages  email  im  and videos between the home computers and the internet  an example of a router would be the owner s cable or dsl router  which connects to the internet through an isp  more sophisticated routers  such as enterprise routers  connect large business or isp networks up to the powerful core routers that forward data at high speed along the optical fiber lines of the internet backbone  though routers are typically dedicated hardware devices  use of software based routers has grown increasingly common             when multiple routers are used in interconnected networks  the routers exchange information about destination addresses using a dynamic routing protocol  each router builds up a table listing the preferred routes between any two systems on the interconnected networks  a router has interfaces for different physical types of network connections  such as copper cables  fibre optic  or wireless transmission  it also contains firmware for different networking communications protocol standards  each network interface uses this specialised computer software to enable data packets to be forwarded from one protocol transmission system to another     routers may also be used to connect two or more logical groups of computer devices known as subnets  each with a different sub network address  the subnet addresses recorded in the router do not necessarily map directly to the physical interface connections      a router has two stages of operation called planes      routers may provide connectivity within enterprises  between enterprises and the internet  or between internet service providers   isps  networks  the largest routers  such as the cisco crs   or juniper t      interconnect the various isps  or may be used in large enterprise networks   smaller routers usually provide connectivity for typical home and office networks  other networking solutions may be provided by a backbone wireless distribution system  wds   which avoids the costs of introducing networking cables into buildings     all sizes of routers may be found inside enterprises   the most powerful routers are usually found in isps  academic and research facilities  large businesses may also need more powerful routers to cope with ever increasing demands of intranet data traffic  a three layer model is in common use  not all of which need be present in smaller networks      access routers  including  small office home office   soho  models  are located at customer sites such as branch offices that do not need hierarchical routing of their own  typically  they are optimized for low cost  some soho routers are capable of running alternative free linux based firmwares like tomato  openwrt or dd wrt      distribution routers aggregate traffic from multiple access routers  either at the same site  or to collect the data streams from multiple sites to a major enterprise location  distribution routers are often responsible for enforcing quality of service across a wan  so they may have considerable memory installed  multiple wan interface connections  and substantial onboard data processing routines  they may also provide connectivity to groups of file servers or other external networks     external networks must be carefully considered as part of the overall security strategy  a router may include a firewall  vpn handling  and other security functions  or these may be handled by separate devices  many companies produced security oriented routers  including cisco systems  pix and asa     series  juniper s netscreen  watchguard s firebox  barracuda s variety of mail oriented devices  and many others  routers also commonly perform network address translation  which allows multiple devices on a network to share a single public ip address         in enterprises  a core router may provide a  collapsed backbone  interconnecting the distribution tier routers from multiple buildings of a campus  or large enterprise locations  they tend to be optimized for high bandwidth  but lack some of the features of edge routers       routers intended for isp and major enterprise connectivity usually exchange routing information using the border gateway protocol  bgp   rfc        standard defines the types of bgp routers according to their functions     the very first device that had fundamentally the same functionality as a router does today  was the interface message processor  imp   imps were the devices that made up the arpanet  the first packet network  the idea for a router  called  gateways  at the time  initially came about through an international group of computer networking researchers called the international network working group  inwg   set up in      as an informal group to consider the technical issues involved in connecting different networks  later that year it became a subcommittee of the international federation for information processing       these devices were different from most previous packet networks in two ways  first  they connected dissimilar kinds of networks  such as serial lines and local area networks  second  they were connectionless devices  which had no role in assuring that traffic was delivered reliably  leaving that entirely to the hosts  this particular idea had been previously pioneered in the cyclades network      the idea was explored in more detail  with the intention to produce a prototype system  as part of two contemporaneous programs  one was the initial darpa initiated program  which created the tcp ip architecture in use today    the other was a program at xerox parc to explore new networking technologies  which produced the parc universal packet system  due to corporate intellectual property concerns it received little attention outside xerox for years       some time after early      the first xerox routers became operational  the first true ip router was developed by virginia strazisar at bbn  as part of that darpa initiated effort  during            by the end of       three pdp    based routers were in service in the experimental prototype internet       the first multiprotocol routers were independently created by staff researchers at mit and stanford in       the stanford router was done by william yeager  and the mit one by noel chiappa  both were also based on pdp   s             virtually all networking now uses tcp ip  but multiprotocol routers are still manufactured  they were important in the early stages of the growth of computer networking  when protocols other than tcp ip were in use  modern internet routers that handle both ipv  and ipv  are multiprotocol  but are simpler devices than routers processing appletalk  decnet  ip and xerox protocols     from the mid     s and in the     s  general purpose mini computers served as routers  modern high speed routers are highly specialized computers with extra hardware added to speed both common routing functions  such as packet forwarding  and specialised functions such as ipsec encryption     there is substantial use of linux and unix software based machines  running open source routing code  for research and other applications  cisco s operating system was independently designed  major router operating systems  such as those from juniper networks and extreme networks  are extensively modified versions of unix software     for pure internet protocol  ip  forwarding function  a router is designed to minimize the state information associated with individual packets    the main purpose of a router is to connect multiple networks and forward packets destined either for its own networks or other networks  a router is considered a layer   device because its primary forwarding decision is based on the information in the layer   ip packet  specifically the destination ip address  this process is known as routing  when each router receives a packet  it searches its routing table to find the best match between the destination ip address of the packet and one of the network addresses in the routing table  once a match is found  the packet is encapsulated in the layer   data link frame for that outgoing interface  a router does not look into the actual data contents that the packet carries citation needed but only at the layer   addresses to make a forwarding decision  plus optionally other information in the header for hints on  for example  quality of service  qos   once a packet is forwarded  the router does not retain any historical information about the packet  but the forwarding action can be collected into the statistical data  if so configured     the routing table itself can contain information derived from a variety of sources  such as a default or static route that is configured manually  or dynamic routing protocols where the router learns routes from other routers  a default route is one that is used to route all traffic whose destination does not otherwise appear in the routing table  this is commonxa    even necessaryxa    in small networks  such as a home or small business where the default route simply sends all non local traffic to the internet service provider  the default route can be manually configured  as a static route   or learned by dynamic routing protocols  or be obtained by dhcp     a router can serve as a dhcp client or as a dhcp server   a router can run more than one routing protocol at a time  particularly if it serves as an autonomous system border router between parts of a network that run different routing protocols  if it does so  then redistribution may be used  usually selectively  to share information between the different protocols running on the same router       forwarding decisions can involve decisions at layers other than layer    a function that forwards based on layer   information is properly called a bridge  this function is referred to as layer   bridging  as the addresses it uses to forward the traffic are layer   addresses  e g  mac addresses on ethernet      yet another function a router performs is called policy based routing where special rules are constructed to override the rules derived from the routing table when a packet forwarding decision is made       besides making decision as to which interface a packet is forwarded to  which is handled primarily via the routing table  a router also has to manage congestion when packets arrive at a rate higher than the router can process  three policies commonly used in the internet are tail drop  random early detection  red   and weighted random early detection  wred   tail drop is the simplest and most easily implemented  the router simply drops packets once the length of the queue exceeds the size of the buffers in the router  red probabilistically drops datagrams early when the queue exceeds a pre configured portion of the buffer  until a pre determined max  when it becomes tail drop  wred requires a weight on the average queue size to act upon when the traffic is about to exceed the pre configured size  so that short bursts will not trigger random drops     another function a router performs is to decide which packet should be processed first when multiple queues exist  this is managed through qos  which is critical when voice over ip is deployed  so that delays between packets do not exceed    ms to maintain the quality of voice conversations     these functions may be performed through the same internal paths that the packets travel inside the router  some of the functions may be performed through an application specific integrated circuit  asic  to avoid overhead caused by multiple cpu cycles  and others may have to be performed through the cpu as these packets need special attention that cannot be handled by an asic  