 in computer networking  a single layer   network may be partitioned to create multiple distinct broadcast domains  which are mutually isolated so that packets can only pass between them via one or more routers  such a domain is referred to as a virtual local area network  virtual lan or vlan     this is usually achieved on switch or router devices  simpler devices only support partitioning on a port level  if at all   so sharing vlans across devices requires running dedicated cabling for each vlan  more sophisticated devices can mark packets through tagging  so that a single interconnect  trunk  may be used to transport data for multiple vlans     grouping hosts with a common set of requirements regardless of their physical location by vlan can greatly simplify network design  a vlan has the same attributes as a physical local area network  lan   but it allows for end stations to be grouped together more easily even if they are not on the same network switch  vlan membership can be configured through software instead of physically relocating devices or connections  most enterprise level networks today use the concept of virtual lans  without vlans  a switch considers all interfaces on the switch to be in the same broadcast domain     to physically replicate the functions of a vlan would require a separate  parallel collection of network cables and equipment separate from the primary network  however  unlike physically separate networks  vlans share bandwidth  so vlan trunks may require aggregated links and or quality of service prioritization             network architects set up vlans to provide the segmentation services traditionally provided only by routers in lan configurations  vlans address issues such as scalability  security  and network management  routers in vlan topologies provide broadcast filtering  security  address summarization  and traffic flow management  by definition  switches may not bridge ip traffic between vlans as doing so would violate the integrity of the vlan broadcast domain     vlans can also help create multiple layer   networks on a single physical infrastructure  for example  if a dhcp server is plugged into a switch it will serve any host on that switch that is configured for dhcp  by using vlans  the network can be easily split up so some hosts will not use that dhcp server and will obtain link local addresses  or obtain an address from a different dhcp server     vlans are layer   constructs  compared with ip subnets  which are layer   constructs  in an environment employing vlans  a one to one relationship often exists between vlans and ip subnets  although it is possible to have multiple subnets on one vlan  vlans and ip subnets provide independent layer   and layer   constructs that map to one another and this correspondence is useful during the network design process     by using vlans  one can control traffic patterns and react quickly to relocations  vlans provide the flexibility to adapt to changes in network requirements and allow for simplified administration     vlans can be used to partition a local network into several distinctive segments  for example     in a common infrastructure shared across vlan trunks can provide a very high level of security with great flexibility for a comparatively low cost  quality of service schemes can optimize traffic on trunk links for realtime  voip  or low latency requirements  san      vlans can also be used in a school or work environment to provide easier access to local networks  to allow for easy administration  and to prevent disruption on the network     in cloud computing vlans  ip addresses  and mac addresses on them are resources which end users can manage  placing cloud based virtual machines on vlans may be preferable to placing them directly on the internet to avoid security issues      after successful experiments with voice over ethernet from      to       dr  w  david sincoskie joined bellcore and began addressing the problem of scaling up ethernet networks  at   xa mbit s  ethernet was faster than most alternatives at the time  however  ethernet was a broadcast network and there was no good way of connecting multiple ethernet networks together  this limited the total bandwidth of an ethernet network to   xa mbit s and the maximum distance between any two nodes to a few hundred feet     by contrast  although the existing telephone network s peak speed for individual connections was limited to   xa kbit s  less than one hundredth of ethernet s speed   the total bandwidth of that network was estimated at  xa tbit s  capable of moving over a hundred thousand times more information in a given timescale     although it was possible to use ip routing to connect multiple ethernet networks together  it was expensive and relatively slow  sincoskie started looking for alternatives that required less processing per packet  in the process he independently reinvented the self learning ethernet switch      however  using switches to connect multiple ethernet networks in a fault tolerant fashion requires redundant paths through that network  which in turn requires a spanning tree configuration  this ensures that there is only one active path from any source node to any destination on the network  this causes centrally located switches to become bottlenecks  which limits scalability as more networks are interconnected     to help alleviate this problem  sincoskie invented vlans by adding a tag to each ethernet packet  these tags could be thought of as colors  say red  green  or blue  then each switch could be assigned to handle packets of a single color  and ignore the rest  the networks could be interconnected with three spanning trees  one for each color  by sending a mix of different packet colors  the aggregate bandwidth could be improved  sincoskie referred to this as a multitree bridge  he and chase cotton created and refined the algorithms  called the extended bridge algorithms for large networks  necessary to make the system feasible   this  color  is what is now known in the ethernet frame as the ieee      q header  or the vlan tag  while vlans are commonly used in modern ethernet networks  using them for the original purpose would be rather unusual     in      the ieee approved ieee      aq  shortest path bridging  to standardize load balancing and shortest path forwarding of  multicast and unicast  traffic allowing larger networks with shortest path routes between devices  it was stated by david allan and nigel bragg  in      aq shortest path bridging design and evolution  the architect s perspective that shortest path bridging is one of the most significant enhancements in ethernet s history      a basic switch not configured for vlans has vlan functionality disabled or permanently enabled with a default vlan that contains all ports on the device as members  every device connected to one of its ports can send packets to any of the others  separating ports by vlan groups separates their traffic very much like connecting the devices to another  distinct switch of their own     configuration of the first custom vlan port group usually involves removing ports from the default vlan  such that the first custom group of vlan ports is actually the second vlan on the device  in addition to the default vlan  the default vlan typically has an id of       if a vlan port group were to exist only on one device  no ports that are members of the vlan group would need to be tagged  these ports would hence be considered  untagged   it is only when the vlan port group is to extend to another device that tagging is used  since communications between ports on two different switches travel via the uplink ports of each switch involved  every vlan containing such ports must also contain the uplink port of each switch involved  and these ports must be tagged  this also applies to the default vlan     some switches either allow or require that a name be created for the vlan  but only the vlan group number is important from one switch to the next     where a vlan group is to simply pass through an intermediate switch via two pass through ports  only the two ports must be a member of the vlan  and are tagged to pass both the required vlan and the default vlan on the intermediate switch     management of the switch requires that the administrative functions be associated with one of the configured vlans  if the default vlan were deleted or renumbered without first moving the management connection to a different vlan  it is possible for the technician to be locked out of the switch configuration  requiring a forced clearing of the device configuration  possibly to the factory default  to regain access     switches typically have no built in method to indicate vlan port members to someone working in a wiring closet  it is necessary for a technician to either have administrative access to the device to view its configuration  or for vlan port assignment charts or diagrams to be kept next to the switches in each wiring closet  these charts must be manually updated by the technical staff whenever port membership changes are made to the vlans     remote configuration of vlans presents several opportunities for a technician to cut off communications accidentally and lose connectivity to the devices they are attempting to configure  actions such as subdividing the default vlan by splitting off the switch uplink ports into a separate new vlan can suddenly terminate all remote connectivity  requiring the device to be physically accessed at the distant location to continue the configuration process     generally  vlans within the same organization will be assigned different non overlapping network addresses  this is not a requirement of vlans  there is no issue with separate vlans using identical overlapping address ranges  e g  two vlans each use the private network               cidr      however  it is generally not possible to route data between two networks with overlapping addresses  so if the goal of vlans is segmentation of a larger overall organizational network  non overlapping addresses must be used in each separate vlan     in a legacy network  users were assigned to networks based on geography and were limited by physical topologies and distances  vlans can logically group networks so that the network location of users is no longer so tightly coupled to their physical location  technologies that can implement vlans are     in a network based on broadcasts to all listeners to find peers  as the number of peers on a network grows  the frequency of broadcasts also increases  potentially to a point that much of the network time and capacity is occupied with only sending broadcasts between all members  vlans can help reduce network traffic by forming multiple broadcast domains  to break up a large network into smaller independent segments with fewer broadcasts being sent to every device on the overall network     the protocol most commonly used today to configure vlans is ieee      q  the ieee committee defined this method of multiplexing vlans in an effort to provide multivendor vlan support  prior to the introduction of the      q standard  several proprietary protocols existed  such as cisco s isl  inter switch link  and  com s vlt  virtual lan trunk   cisco also implemented vlans over fddi by carrying vlan information in an ieee        frame header  contrary to the purpose of the ieee        standard     both isl and ieee      q tagging perform  explicit tagging    the frame itself is tagged with vlan information  isl uses an external tagging process that does not modify the existing ethernet frame  while      q uses a frame internal field for tagging  and therefore does modify the ethernet frame  this internal tagging is what allows ieee      q to work on both access and trunk links  frames are standard ethernet  and so can be handled by commodity hardware     under ieee      q  the maximum number of vlans on a given ethernet network is        the       provided for by the    bit vid field minus reserved values  x    and  xfff   this does not impose the same limit on the number of ip subnets in such a network  since a single vlan can contain multiple ip subnets  the vlan limit is expanded to    million with shortest path bridging     inter switch link  isl  is a cisco proprietary protocol used to interconnect multiple switches and maintain vlan information as traffic travels between switches on trunk links  this technology provides one method for multiplexing bridge groups  vlans  over a high speed backbone  it is defined for fast ethernet and gigabit ethernet  as is ieee      q  isl has been available on cisco routers since cisco ios software release          with isl  an ethernet frame is encapsulated with a header that transports vlan ids between switches and routers  isl does add overhead to the packet as a    byte header containing a    bit vlan id  in addition  a   byte crc is appended to the end of each frame  this crc is in addition to any frame checking that the ethernet frame requires  the fields in an isl header identify the frame as belonging to a particular vlan     a vlan id is added only if the frame is forwarded out a port configured as a trunk link  if the frame is to be forwarded out a port configured as an access link  the isl encapsulation is removed     early network designers often configured vlans with the aim of reducing the size of the collision domain in a large single ethernet segment and thus improving performance  when ethernet switches made this a non issue  because each switch port is a collision domain   attention turned to reducing the size of the broadcast domain at the mac layer  a vlan can also serve to restrict access to network resources without regard to physical topology of the network  although the strength of this method remains debatable as vlan hopping  is a means of bypassing such security measures  vlan hopping can be mitigated with proper switchport configuration     vlans operate at layer    the data link layer  of the osi model  administrators often configure a vlan to map directly to an ip network  or subnet  which gives the appearance of involving layer    the network layer   in the context of vlans  the term  trunk  denotes a network link carrying multiple vlans  which are identified by labels  or  tags   inserted into their packets  such trunks must run between  tagged ports  of vlan aware devices  so they are often switch to switch or switch to router links rather than links to hosts   note that the term  trunk  is also used for what cisco calls  channels xa   link aggregation or port trunking   a router  layer   device  serves as the backbone for network traffic going across different vlans     ieee      aq  shortest path bridging spb  allows all paths to be active with multiple equal cost paths  provides much larger layer   topologies  up to    million compared to the      vlans limit   faster convergence times  and improves the use of the mesh topologies through increased bandwidth and redundancy between all devices by allowing traffic to load share across all paths of a mesh network     the two common approaches to assigning vlan membership are as follows     static vlans are also referred to as port based vlans  static vlan assignments are created by assigning ports to a vlan  as a device enters the network  the device automatically assumes the vlan of the port  if the user changes ports and needs access to the same vlan  the network administrator must manually make a port to vlan assignment for the new connection     dynamic vlans are created using software  with a vlan management policy server  vmps   an administrator can assign switch ports to vlans dynamically based on information such as the source mac address of the device connected to the port or the username used to log onto that device  as a device enters the network  the switch queries a database for the vlan membership of the port that device is connected to     in a switch that supports protocol based vlans  traffic is handled on the basis of its protocol  essentially  this segregates or forwards traffic from a port depending on the particular protocol of that traffic  traffic of any other protocol is not forwarded on the port     for example  it is possible to connect the following to a given switch     if a protocol based vlan is created that supports ip and contains all three ports  this prevents ipx traffic from being forwarded to ports    and     and arp traffic from being forwarded to ports    and     while still allowing ip traffic to be forwarded on all three ports     vlan cross connect  cc  is a mechanism used to create switched vlans  vlan cc uses ieee      ad frames where the s tag is used as a label as in mpls  ieee approves the use of such a mechanism in part      of ieee      ad       