 cp m  control program for microcomputers   was a mass market operating system created for intel         based microcomputers by gary kildall of digital research  inc  originally incorporated as intergalactic digital research   initially confined to single tasking on   bit processors and no more than    kilobytes of memory  later versions of cp m added multi user variations and were migrated to    bit processors     the combination of cp m and s     bus computers loosely patterned on the mits altair was an early industry standard for microcomputers  and this computer platform was widely used in business through the late     s and into the mid     s  expanding to include    bit cpus and multiuser capability   by greatly reducing the amount of programming required to install an application on a new manufacturer s computer  cp m increased the market size for both hardware and software       the acronym cp m for  control program monitor  was later backronymed to  control program for microcomputers  or  control program micro              a minimal   bit cp m system would contain the following components     the only hardware system that cp m  as sold by digital research  would support was the intel      development system  manufacturers of cp m compatible systems customized portions of the operating system for their own combination of installed memory  disk drives  and console devices  cp m would also run on systems based on the zilog z   processor since the z   was compatible with      code  while the digital research distributed core of cp m  bdos  ccp  core transient commands  did not use any of the z   specific instructions  many z   based systems used z   code in the system specific bios  and many applications were dedicated to z   based cp m machines     on most machines the bootstrap was a minimal bootloader in rom combined with some means of minimal bank switching or a means of injecting code on the bus  since the      needs to see boot code at address   for start up  while cp m needs ram there   for others  this bootstrap had to be entered into memory using front panel controls each time the system was started     cp m used the   bit ascii set  the other     characters made possible by the   bit byte were not standardized  for example  one kaypro used them for greek characters  and osborne machines used the  th bit set to indicate an underlined character  wordstar used the  th bit as an end of word marker  international cp m systems most commonly used the iso     norm for localized character sets  replacing certain ascii characters with localized characters rather than adding them beyond the   bit boundary     in the   bit versions  while running  the cp m operating system loaded into memory had three components     the bios and bdos were memory resident  while the ccp was memory resident unless overwritten by an application  in which case it was automatically reloaded after the application finished running  a number of transient commands for standard utilities were also provided  the transient commands resided in files with the extension  com on disk     the bios directly controlled hardware components other than the cpu and main memory  it contained functions such as character input and output and the reading and writing of disk sectors  the bdos implemented the cp m file system and some input output abstractions  such as redirection  on top of the bios  the ccp took user commands and either executed them directly  internal commands such as dir to show a directory or era to delete a file  or loaded and started an executable file of the given name  transient commands such as pip com to copy files or stat com to show various file and system information   third party applications for cp m were also essentially transient commands     the bdos  ccp and standard transient commands were  ideally  the same in all installations of a particular revision of cp m  but the bios portion was always adapted to the particular hardware  adding memory to a computer  for example  meant that the cp m system had to be reinstalled with an updated bios capable of addressing the additional memory  a utililty was provided to patch the supplied bios  bdos and ccp to allow them to be run from higher memory  once installed  the operating system  bios  bdos and ccp  was stored in reserved areas at the beginning of any disk which would be used to boot the system  on start up  the bootloader  usually contained in a rom firmware chip  would load the operating system from the disk in drive a      by modern standards cp m was primitive  owing to the extreme constraints on program size  with version     there was no provision for detecting a changed disk  if a user changed disks without manually rereading the disk directory the system would write on the new disk using the old disk s directory information  ruining the data stored on the disk  starting with     or     this danger was reduced  if one changed disks without reading the new disk s directory  and tried to write to it  the operating system would signal a fatal error  avoiding overwriting but requiring a reboot  which took no more than a few seconds  but implied losing whatever data you were trying to save      the majority of the complexity in cp m was isolated in the bdos  and to a lesser extent  the ccp and transient commands  this meant that by porting the limited number of simple routines in the bios to a particular hardware platform  the entire os would work  this significantly reduced the development time needed to support new machines  and was one of the main reasons for cp m s widespread use  today this sort of abstraction is common to most oss  a hardware abstraction layer   but at the time of cp m s birth  oss were typically intended to run on only one machine platform  and multilayer designs were considered unnecessary     the console command processor  or ccp  accepted input from the keyboard and conveyed results to the terminal  cp m itself would work with either a printing terminal or a video terminal  all cp m commands had to be typed in on the command line  the console would most often display the a  prompt  to indicate the current default disk drive  when used with a video terminal  this would usually be followed by a blinking cursor supplied by the terminal  the ccp would await input from the user     a ccp internal command  of the form drive letter followed by a colon  could be used to select the default drive  for example  typing b  and pressing enter at the command prompt would change the default drive to b  and the command prompt would then become b  to indicate this change     cp m s command line interface was patterned after the operating systems from digital equipment  such as rt    for the pdp    and os   for the pdp       commands took the form of a keyword followed by a list of parameters separated by spaces or special characters  similar to a unix shell builtin  if an internal command was recognized  it was carried out by the ccp itself  otherwise it would attempt to find an executable file on the currently logged disk drive and  in later versions  user area  load it  and pass it any additional parameters from the command line  these were referred to as  transient  programs  on completion  cp m would reload the part of the ccp that had been overwritten by application programs   this allowed transient programs a larger memory space     the commands themselves could sometimes be obscure  for instance  the command to duplicate files was named pip  peripheral interchange program   the name of the old dec utility used for that purpose  the format of parameters given to a program was not standardized  so that there was no single option character that differentiated options from file names  different programs could and did use different characters    the basic disk operating system    or bdos    provided access to such operations as opening a file  output to the console  or printing  application programs would load processor registers with a function code for the operation  and addresses for parameters or memory buffers  and call a fixed address in memory  since the address was the same independent of the amount of memory in the system  application programs would run the same way for any type or configuration of hardware     the basic input output system    or bios    provided the lowest level functions required by the operating system     these included reading or writing single characters to the system console and reading or writing a sector of data from the disk  the bdos handled some of the buffering of data from the diskette  but before cp m     it assumed a disk sector size fixed at     bytes  as used on single density   inch floppy disks  since most      inch disk formats used larger sectors  the blocking and deblocking and the management of a disk buffer area was handled by model specific code in the bios     customization was required because hardware choices were not constrained by compatibility with any one popular standard  for example  some manufacturers used separate computer terminal  while others designed a built in integrated video display system  serial ports for printers and modems could use different types of uart chips  and port addresses were not fixed  some machines used memory mapped i o instead of the      i o address space  all of these variations in the hardware were concealed from other modules of the system by use of the bios  which used standard entry points for the services required to run cp m such as character i o or accessing a disk block  since support for serial communication to a modem was very rudimentary in the bios or may have been absent altogether  it was common practice for cp m programs that used modems to have a user installed overlay containing all the code required to access a particular machine s serial port     file names were specified as a string of up to eight characters  followed by a period  followed by a file name extension of up to three characters        filename format   the extension usually identified the type of the file  for example   com indicated a binary executable program file  and  txt indicated a file containing ascii text     each disk drive was identified by a drive letter  for example drive a and drive b  to refer to a file on a specific drive  the drive letter was prefixed to the file name  separated by a colon  e g  a file txt  with no drive letter prefixed  access was to files on the current default drive      the       filename format and the drive letter   colon combination survived into ms dos  the drive letter   colon convention has survived in microsoft windows and is still used today  in addition  file extensions  for example   txt  are still used to identify file types on many operating systems     file size was specified as the number of     byte records  directly corresponding to disk sectors on   inch drives  occupied by a file on the disk  there was no generally supported way of specifying byte exact file sizes  the current size of a file was maintained in the file s file control block  fcb  by the operating system  since many application programs  such as text editors  prefer to deal with files as sequences of characters rather than as sequences of records  by convention text files were terminated with a control z character  ascii sub  hexadecimal  a   determining the end of a text file therefore involved examining the last record of the file to locate the terminating control z  this also meant that inserting a control z character into the middle of a file usually had the effect of truncating the text contents of the file     with the advent of larger removable and fixed disk drives  disk deblocking formulas were employed which resulted in more disk blocks per logical file allocation block  while this allowed for larger file sizes  it also meant that the smallest file which could be allocated increased in size from  kb  on single density drives  to  kb  on double density drives  and so on up to    or even   kb for a file containing only a single byte  this made for inefficient use of disk space if a large number of small files were to be stored     file modification time stamps were not supported in releases up to cp m      but were an optional feature in mp m and cp m         cp m     had no sub directories in the file structure  but provided    user areas to organize files on a disk  the user area concept was to make the single user version of cp m somewhat compatible with multi user mp m systems  a common patch for the cp m and derivative operating systems was to make one user area accessible to the user independent of the currently set user area  a user command allowed the user area to be changed to any area from   to     user   was the default  if one changed to another user  such as user    the material saved on the disk for this user would only be available to user    user   would not be able to see it or access it  since cp m was a single user operating system  no security was provided for the user command  nothing would prevent any user from accessing any of the    user areas  the user area feature arguably had little utility on small floppy disks  but it was useful for organizing files on machines with hard drives  the intent of the feature was to ease use of the same computer for different tasks  for example  a secretary could do data entry  then  after switching user areas  another employee could use the machine to do billing without their files intermixing     the read write memory between address      hexadecimal and the lowest address of the bdos was the transient program area  tpa  available for cp m application programs  although all z   and      processors could address    kilobytes of memory  the amount available for application programs could vary  depending on the design of the particular computer  some computers used large parts of the address space for such things as bios roms  or video display memory  as a result some systems had more tpa memory available than others  bank switching was a common technique that allowed systems to have a large tpa while switching out rom or video memory space as needed  cp m     allowed parts of the bdos to be in bank switched memory as well     cp m came with a dynamic debugging tool  nicknamed ddt  an insecticide  i e  a bug killer   which allowed memory and program modules to be examined and manipulated       cp m was not a multitasking operating system  however  it did accommodate device drivers  specialized code that might be required by an attached peripheral  using this capability  programmers developed and sold auxiliary desk accessory programs  such as a keyboard utility to assign any string of bytes to a key     gary kildall originally developed cp m during          as an operating system to run on an intel intellec   development system  equipped with a shugart associates   inch floppy disk drive interfaced via a custom floppy disk controller   it was written in kildall s own pl m  programming language for microcomputers    various aspects of cp m were influenced by the tops    operating system of the decsystem    mainframe computer  which kildall had used as a development environment           cp m originally stood for  control program monitor   however  during the conversion of cp m to a commercial product  trademark registration documents filed in november      gave the product s name as  control program for microcomputers citation needed  the cp m name follows a prevailing naming scheme of the time  as in kildall s pl m language  and prime computer s pl p  programming language for prime   both suggesting ibm s pl i  and ibm s cp cms operating system  which kildall had used when working at the naval postgraduate school     this renaming of cp m was part of a larger effort by kildall and his wife business partner to convert kildall s personal project of cp m and the intel contracted pl m compiler into a commercial enterprise  the kildalls astutely intended to establish the digital research brand and its product lines as synonymous with  microcomputer  in the consumer s mind  similar to what ibm and microsoft together later successfully accomplished in making  personal computer  synonymous with ibm and microsoft product offerings  intergalactic digital research  inc  was later renamed via a corporation change of name filing to digital research  inc     cp m was described as a  software bus   allowing multiple programs to interact with different hardware in a standardized way       companies chose to support cp m because of its large library of software  the xerox     ran it because  where there are literally thousands of programs written for it  it would be unwise not to take advantage of it   xerox said    programs written for cp m were typically portable among different machines  usually requiring only the specification of the escape sequences for control of the screen and printer  this portability made cp m popular  and much more software was written for cp m than for operating systems that ran on only one brand of hardware  one restriction on portability was that certain programs used the extended instruction set of the z   processor and would not operate on an      or      processor     bill gates claimed that the apple ii family with a z    softcard was the single most popular cp m hardware platform    many different brands of machines ran the operating system  some notable examples being the altair       the imsai       the osborne   and kaypro luggables  and msx computers  the best selling cp m capable system of all time was probably the amstrad pcw  in the uk  cp m was also available on research machines educational computers  with the cp m source code published as an educational resource   and for the bbc micro when equipped with a z   co processor  furthermore  it was available for the amstrad cpc series  the commodore      trs     and later models of the zx spectrum     wordstar  one of the first widely used word processors  and dbase  an early and popular database program for small computers  were originally written for cp m  an early outliner  kamas  knowledge and mind amplification system  was also written for cp m  though later rewritten for ms dos  turbo pascal  the ancestor of borland delphi  and multiplan  the ancestor of microsoft excel  also debuted on cp m before ms dos versions became available  autocad  a cad application from autodesk debuted on cp m  a host of compilers and interpreters for popular programming languages of the time  such as basic and fortran  were available  among them several of the earliest microsoft products  the business focus and lack of standardized graphics support severely limited video games  but various character and text based games were ported  such as hamurabi  lunar lander  along with early interactive fiction including the zork series and colossal cave adventure  a text adventure specialist  infocom was one of the few publishers to consistently release their games in cp m format  lifeboat associates started collecting and distributing user written  free  software  one of the first was xmodem  which allowed reliable file transfers via modem and phone line     while the   inch single density floppy disk format  so called  distribution format   was standardized  various    inch formats were used depending on the characteristics of particular systems and to some degree the choices of the designers  cp m supported options to control the size of reserved and directory areas on the disk  and the mapping between logical disk sectors  as seen by cp m programs  and physical sectors as allocated on the disk  there were very many ways to customize these parameters for every system   but once they had been set  no standardized way existed for a system to load parameters from a disk formatted on another system     certain disk formats were more popular than others  much cp m software used the xerox     s format  for example  and other computers such as the kaypro ii were compatible with it      no single manufacturer  however  prevailed in the    inch era of cp m use  and disk formats were not portable between hardware manufacturers  a software manufacturer had to prepare a separate version of the program for each brand of hardware on which it was to run  with some manufacturers  kaypro is an example   there was not even standardization across the company s different models  because of this situation  disk format translation programs  which allowed a machine to read many different formats  became popular and reduced the confusion  as did programs like kermit which allowed transfer of data and programs from one machine to another using the serial ports that most cp m machines had  the fragmented cp m market  requiring distributors either to stock multiple formats of disks or to invest in multiformat duplication equipment  compared with the more standardized ibm pc disk formats  was a contributing factor to the rapid obsolescence of cp m after          although graphics capable s     systems existed from the commercialization of the s     bus  cp m did not provide any standardized graphics support until      with gsx  graphic system extension   owing to the small memory available  graphics was never a common feature associated with   bit cp m operating systems  most systems could only display rudimentary ascii art charts and diagrams in text mode or by using a custom character set     the last   bit version of cp m was version    often called cp m plus  released in       it incorporated the bank switching memory management of mp m in a single user single task operating system compatible with cp m     applications  cp m   could therefore use more than    kb of memory on an      or z   processor  the system could be configured to support date stamping of files  the operating system distribution software also included a relocating assembler and linker   cp m   was available for the last generation of   bit computers  notably the amstrad pcw and the commodore         there were versions of cp m for some    bit cpus as well     the first version in the    bit family was cp m    for the intel       which was soon followed by cp m   k for the motorola        at this point the original   bit cp m became known by the retronym cp m    to avoid confusion  there was also a port to the zilog z      named cp m            cp m    was expected to be the standard operating system of the new ibm pcs  but dri and ibm were unable to negotiate development and licensing terms  ibm turned to microsoft instead  and microsoft delivered pc dos based on a cp m clone     dos  although cp m    became an option for the ibm pc after dri threatened legal action  it never overtook microsoft s system     when digital equipment corporation put out the rainbow     to compete with ibm  it came with cp m    using a z   chip  cp m    or ms dos using an      microprocessor  or cp m       using both  the z   and      cpus ran concurrently    a benefit of the rainbow was that it could continue to run   bit cp m software  preserving a user s possibly sizable investment as they moved into the    bit world of ms dos     cp m   k was initially to be used in the atari st computer  but atari decided to go with a newer disk operating system called gemdos  cp m   k also was used on the sord m   and m  mx computers       these    bit versions of cp m required application programs to be re compiled for the new cpus or  if they were written in assembly language  to be translated using tools like digital research s xlt    a program written by gary kildall in       which translated  asm source code for the intel      processor into  a   source code for the intel       using global data flow analysis on      register usage  the translator would also optimize the output for code size and take care of calling conventions  so that cp m    and mp m    programs could be ported to the cp m    and mp m    platforms automatically  xlat   itself was written in pl i    and was available for cp m    platforms as well as for dec vms  for vax        or               many expected that cp m would be the standard operating system for    bit computers    in       ibm approached digital research to license a forthcoming version of cp m for its new product  the ibm personal computer  upon the failure to obtain a signed non disclosure agreement  the talks failed  and ibm instead contracted with microsoft to provide an operating system    the resulting product  ms dos  soon began outselling cp m citation needed    many of the basic concepts and mechanisms of early versions of ms dos resembled those of cp m  internals like file handling data structures were identical  and both referred to disk drives with a letter  a   b   etc    ms dos s main innovation was its fat file system  this similarity made it easier to port popular cp m software like wordstar and dbase  however  cp m s concept of separate user areas for files on the same disk was never ported to ms dos  since ms dos had access to more memory  as few ibm pcs were sold with less than    kb of memory  while cp m had to run in    kb if necessary   more commands were built into the command line shell  making ms dos somewhat faster and easier to use on floppy based computers     although one of the first peripherals for the ibm pc was a softcard like expansion card that let it run   bit cp m software    cp m rapidly lost market share as the microcomputing market moved to the ibm compatible platform  and it never regained its former popularity  byte magazine  at the time one of the leading industry magazines for microcomputers  essentially ceased covering cp m products within a few years of the introduction of the ibm pc  for example  in      there were still a few advertisements for s    boards and articles on cp m software  but by      these were no longer found in the magazine  infoworld magazine described the unsuccessful efforts at introducing cp m based home computers in        and in      stated that the kaypro corporation had stopped production of their   bit cp m based models to concentrate on sales of ms dos compatible systems  long after most other vendors had ceased production of new equipment and software for cp m       later versions of cp m    made significant strides in performance and usability and were made compatible with ms dos  to reflect this compatibility the name was changed  and cp m    became dos plus  which in turn became dr dos     zcpr  the z   command processor replacement  was introduced on february         as a drop in replacement for the standard digital research console command processor  ccp  and was initially written by a group of computer hobbyists who called themselves  the ccp group   they were frank wancho  keith petersen  the archivist behind simtel at the time   ron fowler  charlie strom  bob mathias  and richard conn  richard was  in fact  the driving force in this group  all of whom maintained contact through email      zcpr  was released on a disk put out by sig m  special interest group microcomputers   a part of the amateur computer club of new jersey     zcpr  was released on february           it was released as a set of ten disks from sig m  zcpr  was upgraded to      and also was released in      code  permitting the use of zcpr  on      and      systems     zcpr  was released on bastille day  july           as a set of nine disks from sig m  the code for zcpr  could also be compiled  with reduced features  for the      and would run on systems that did not have the requisite z   microprocessor     in january       richard conn stopped developing zcpr  and echelon asked jay sage  who already had a privately enhanced zcpr      to continue work on it  thus  zcpr     was developed and released  zcpr   no longer supported the      series of microprocessors  and added the most features of any upgrade in the zcpr line     features of zcpr as of version   included     zcpr    also included a full complement of utilities with considerably extended capabilities  while enthusiastically supported by the cp m user base of the time  zcpr alone was insufficient to slow the demise of cp m     a number of behaviors exhibited by modern versions of microsoft windows are a result of backwards compatibility to ms dos  which in turn attempted some backwards compatibility with cp m  the drive letter and     filename standard in ms dos  and early windows versions  was originally adopted from cp m    the wildcard matching algorithm used by windows command prompt is based on that of cp m    as are the reserved filenames used to redirect output to a printer   prn    and the console   con      also  the character marking the end of some text files and behavior exhibited by the copy command can also be attributed to cp m    